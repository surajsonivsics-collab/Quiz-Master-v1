{% extends "base.html" %} {% block content %}
<div class="container mt-4">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold text-success">ðŸ“– Chapters for {{ subject.name }}</h2>
    <div class="d-flex gap-2">
      <a
        href="{{ url_for('add_chapter', subject_id=subject.id) }}"
        class="btn btn-primary shadow-sm"
        >+ Add Chapter</a
      >
      <a
        href="{{ url_for('view_subjects') }}"
        class="btn btn-secondary shadow-sm"
        >â¬… Back to Subjects</a
      >
    </div>
  </div>

  <!-- Chapters List -->
  {% if chapters %}
  <div class="row">
    {% for chapter in chapters %}
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm border-0 h-100 chapter-card">
        <div class="card-body d-flex flex-column justify-content-between">
          <!-- Icon + Title -->
          <div class="d-flex align-items-center mb-2">
            <div class="chapter-icon me-2">ðŸ“˜</div>
            <h5 class="card-title fw-bold text-dark mb-0">
              {{ chapter.name }}
            </h5>
          </div>

          <!-- Description -->
          {% if chapter.description %}
          <p class="card-text text-muted small">{{ chapter.description }}</p>
          {% endif %}

          <!-- Action Buttons -->
          <div class="mt-auto d-flex gap-2">
            <a
              href="{{ url_for('manage_quizzes', chapter_id=chapter.id) }}"
              class="btn btn-info btn-sm flex-fill"
              >View Quizzes</a
            >
            <a
              href="{{ url_for('edit_chapter', chapter_id=chapter.id) }}"
              class="btn btn-warning btn-sm flex-fill"
              >Edit</a
            >
            <a
              href="{{ url_for('delete_chapter', chapter_id=chapter.id) }}"
              class="btn btn-danger btn-sm flex-fill"
              onclick="return confirm('Are you sure you want to delete this chapter?');"
              >Delete</a
            >
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="alert alert-info">No chapters found for this subject.</div>
  {% endif %}
</div>

<style>
  /* Chapter card hover */
  .chapter-card {
    border-radius: 15px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .chapter-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  }

  /* Icon styling */
  .chapter-icon {
    font-size: 1.5rem;
    background: #eef6ff;
    padding: 6px 10px;
    border-radius: 8px;
  }

  /* Button hover */
  .btn {
    border: none;
    transition: 0.2s;
  }
  .btn:hover {
    transform: translateY(-2px);
  }
</style>
{% endblock %}
