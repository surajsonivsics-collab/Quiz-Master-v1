{% extends "base.html" %} {% block content %}
<h2>Questions for Quiz: <strong>{{ quiz.name }}</strong></h2>

<!-- Add New Question Button -->
<div class="mb-3">
  <a
    href="{{ url_for('add_question', quiz_id=quiz.id) }}"
    class="btn btn-success"
  >
    + Add Question
  </a>
  <a
    href="{{ url_for('manage_quizzes', chapter_id=quiz.chapter_id) }}"
    class="btn btn-secondary"
  >
    Back to Quizzes
  </a>
</div>

<!-- Questions Table -->
{% if questions %}
<table class="table table-bordered table-hover">
  <thead class="table-dark">
    <tr>
      <th>#</th>
      <th>Question</th>
      <th>Options</th>
      <th>Correct</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for q in questions %}
    <tr>
      <td>{{ loop.index }}</td>
      <td>{{ q.question_statement }}</td>
      <td>
        1. {{ q.option1 }}<br />
        2. {{ q.option2 }}<br />
        3. {{ q.option3 }}<br />
        4. {{ q.option4 }}
      </td>
      <td><strong>Option {{ q.correct_option }}</strong></td>
      <td>
        <a
          href="{{ url_for('delete_question', id=q.id, quiz_id=quiz.id) }}"
          class="btn btn-sm btn-danger"
          onclick="return confirm('Are you sure you want to delete this question?');"
        >
          Delete
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p><em>No questions added yet.</em></p>
{% endif %} {% endblock %}
